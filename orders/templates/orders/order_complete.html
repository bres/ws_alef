{% extends 'base.html' %}
{% block title %}cart{% endblock %}
{% load static %}
{% block content %}


<section class="py-10 bg-gray-100">
  <div class="px-4 xl:px-32">
    <div class="px-4 py-10 md:py-20 lg:px-20 bg-white">

<div class="w-32 my-6 border-2 border-black p-2">

<img src="{% static 'img/invoice_logo.png' %}" alt="..." class="object-contain object-center w-full" />

</div>
      <h2 class="my-14 text-4xl font-semibold ">Payment Successful</h2>
       <div class="flex flex-wrap mb-8 pb-4 border-b">
        <div class="mr-20">
          <h3 class="text-gray-600">Order Number</h3>
          <p class="text-black font-bold ">XYZ0864395</p>
        </div>
        <div class="mr-auto">
          <h3 class="text-gray-600">Date</h3>
          <p class="text-black font-bold ">June 05, 2021</p>
        </div>

 <a class="inline-flex mt-6 lg:mt-0 w-full lg:w-auto justify-center items-center py-4 px-6 border hover:border-gray-500 rounded-md font-bold" href="#">
  <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M1 1V0.25C0.585786 0.25 0.25 0.585786 0.25 1L1 1ZM15 19V19.75C15.4142 19.75 15.75 19.4142 15.75 19H15ZM1 19H0.25C0.25 19.4142 0.585786 19.75 1 19.75L1 19ZM10 1L10.5303 0.46967C10.3897 0.329018 10.1989 0.25 10 0.25V1ZM15 6H15.75C15.75 5.80109 15.671 5.61032 15.5303 5.46967L15 6ZM15 18.25H1V19.75H15V18.25ZM1.75 19V1H0.25V19H1.75ZM1 1.75H10V0.25H1V1.75ZM14.25 6V19H15.75V6H14.25ZM9.46967 1.53033L14.4697 6.53033L15.5303 5.46967L10.5303 0.46967L9.46967 1.53033ZM8.25 1V5H9.75V1H8.25ZM11 7.75H15V6.25H11V7.75ZM8.25 5C8.25 6.51878 9.48122 7.75 11 7.75V6.25C10.3096 6.25 9.75 5.69036 9.75 5H8.25Z" fill="black"></path>
  </svg>
  <span class="ml-4">View Invoice</span>
</a>

      </div>
   <table class="w-full border-collapse bg-black ">
          <thead>
            <tr class="border-b-2 border-gray-200">
              <th class="px-2 sm:px-4 py-3 text-left text-xs font-semibold text-white uppercase ">
              </th>
              <th class="px-2 sm:px-4 py-3 text-left text-xs font-semibold text-white uppercase ">
                quantity
              </th>
              <th class="hidden md:table-cell px-2 sm:px-4 py-3 text-left text-xs font-semibold text-white uppercase ">
                price
              </th>
              <th class=" px-2 sm:px-4 py-3 text-left text-xs font-semibold text-white uppercase" >
                total
              </th>

            </tr>
          </thead>
          <tbody>

            {% for cart_item in cart_items %}
            <tr class="bg-white">
              <td class="px-2 sm:px-4 py-5 text-sm">
                <div class="flex ">
                  <div class="flex-shrink-0 w-24 h-24 sm:w-40 sm:h-40">
                    <img class="w-full h-full" src="{{ cart_item.product.images.url }}" alt="" />
                  </div>
                  <div class="flex flex-1 flex-col ml-3">
                    <a href="{{ cart_item.product.get_url }}" class="text-gray-900 capitalize">
                      {{cart_item.product.product_name}}
                    </a>
                    <p class="text-gray-900 capitalize">
                      {% if cart_item.variations.all %}
                        {% for item in cart_item.variations.all %}
                            {{item.variation_category }} : {{ item.variation_value }}<br>
                        {% endfor %}
                      {% endif %}
                    </p>
                    <small class="text-gray-900 flex flex-1 items-end">
                      In stock
                    </small>
                  </div>
                </div>
              </td>
              <td class="px-2 sm:px-4 py-5 text-sm">
                <div class="inline-flex  items-center px-4 font-semibold font-heading text-gray-500 border border-gray-200 focus:ring-blue-300 focus:border-blue-300 rounded-md">
                  <a href="{% url 'carts:remove_cart' cart_item.product.id  cart_item.id %}" class="py-1 hover:text-gray-700">
                    <i class="fa fa-minus" style="font-size:18px"></i>

                  </a>
                  <input class="w-10 m-0 px-2 py-2 text-center text-lg border-0 focus:ring-transparent focus:outline-none rounded-md" type="text" value="{{ cart_item.quantity }}">


                  <form class="box-border h-full pt-4 " action="{%  url 'carts:add_cart' cart_item.product.id  %}" method="POST">
                    {% csrf_token %}
                    {% for item in cart_item.variations.all %}
                    <input type="hidden" name="{{ item.variation_category }}" value="{{ item.variation_value}}">
                    {% endfor %}

                    <button type="submit" class=" hover:text-gray-700">
                    <i class="fa fa-plus" style="font-size:18px"></i>
                    </button>
                  </form>


                </div>
              </td>
              <td class="hidden md:table-cell px-2 sm:px-4 py-5 text-md">
                <p class="text-gray-900">
                  €{{ cart_item.product.price }}
                </p>
              </td>
              <td class="px-2 sm:px-4 py-5  text-md">
                <p class="text-gray-900">
                  €{{ cart_item.sub_total }}
                </p>
              </td>
              <td class=" px-2 sm:px-4 py-5   bg-white text-sm">
                <a href="{% url 'carts:remove_cart_item' cart_item.product.id  cart_item.id %}" onclick="return confirm('Are you sure you want to delete this item?');">
                <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current text-gray-500 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
                </a>
              </td>
            </tr>
            {% endfor %}

          </tbody>
        </table>
      <div class="mb-4">
        <div class="py-3 px-10 bg-gray-100 rounded-full">
          <div class="flex justify-between">
            <span class="font-bold font-heading">Subtotal</span>
            <span class="font-bold font-heading">$89.67</span>
          </div>
        </div>
        <div class="py-3 px-10 rounded-full">
          <div class="flex justify-between">
            <span class="font-bold font-heading">Shipping</span>
            <span class="font-bold font-heading">$11.00</span>
          </div>
        </div>
        <div class="py-3 px-10 bg-gray-100 rounded-full">
          <div class="flex justify-between">
            <span class="font-bold font-heading">Tax</span>
            <span class="font-bold font-heading">$0.00</span>
          </div>
        </div>
        <div class="py-3 px-10 rounded-full">
          <div class="flex justify-between">
            <span class="text-base md:text-xl font-bold font-heading">Order Total</span>
            <span class="font-bold font-heading">$100.67</span>
          </div>
        </div>
      </div>
      <div class="text-right"><a class="inline-block w-full md:w-auto text-center px-8 py-4 bg-black hover:bg-orange-400 text-white font-bold uppercase rounded-md transition duration-200" href="#">Go back Shopping</a></div>
    </div>
  </div>
</section>


{% endblock %}